<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>savemaxauto</title>

  <link rel="stylesheet" href="./styles.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <!-- TikTok Pixel Code Start -->
  <script>
    !(function (w, d, t) {
      w.TiktokAnalyticsObject = t;
      var ttq = (w[t] = w[t] || []);
      ttq.methods = [
        "page","track","identify","instances","debug","on","off","once","ready","alias","group",
        "enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent",
      ];
      ttq.setAndDefer = function (t, e) {
        t[e] = function () { t.push([e].concat(Array.prototype.slice.call(arguments, 0))); };
      };
      for (var i = 0; i < ttq.methods.length; i++) ttq.setAndDefer(ttq, ttq.methods[i]);
      ttq.instance = function (t) {
        for (var e = ttq._i[t] || [], n = 0; n < ttq.methods.length; n++) ttq.setAndDefer(e, ttq.methods[n]);
        return e;
      };
      ttq.load = function (e, n) {
        var r = "https://analytics.tiktok.com/i18n/pixel/events.js";
        (ttq._i = ttq._i || {}),
          (ttq._i[e] = []),
          (ttq._i[e]._u = r),
          (ttq._t = ttq._t || {}),
          (ttq._t[e] = +new Date()),
          (ttq._o = ttq._o || {}),
          (ttq._o[e] = n || {});
        n = document.createElement("script");
        n.type = "text/javascript";
        n.async = !0;
        n.src = r + "?sdkid=" + e + "&lib=" + t;
        e = document.getElementsByTagName("script")[0];
        e.parentNode.insertBefore(n, e);
      };
      ttq.load("D2H5NABC77UCCBANISK0");
      ttq.page();
    })(window, document, "ttq");
  </script>
  <!-- TikTok Pixel Code End -->

  <!-- Ringba -->
  <script src="//b-js.ringba.com/CAdab2902d46cb426ebc71aef68c81fe8e" async></script>

  <!-- âœ… Ringba tags init -->
  <script>
    window._rgba_tags = window._rgba_tags || [];
  </script>

  <style>
    .hidden{ display:none; }

    .pulse{
      animation: pulse 1s ease-in-out infinite;
      background-color:#22c55e;
      border-radius:50%;
      box-shadow:0 0 8px #22c55e80;
      height:10px;
      width:10px;
    }
    @keyframes pulse{
      0%{ opacity:1; transform:scale(1); }
      50%{ opacity:.7; transform:scale(1.2); }
      100%{ opacity:1; transform:scale(1); }
    }

    #lofo{ width:20%; }
    .live{ width:4%; margin-right:5px; }

    @media (min-width:768px) and (max-width:1200px){
      #lofo{ width:35%; }
      .live{ width:6%; }
    }
    @media (max-width:768px){
      #lofo{ width:50%; }
      .live{ width:10%; }
    }

    #image-container{
      position:absolute;
      top:30px;
      z-index:10000;
      width:100%;
      display:none;
    }
    #image-container img{ width:100%; }

    /* âœ… SINGLE, SIMPLE CALL BUTTON */
    .call-btn{
      display:flex;
      align-items:center;
      justify-content:center;
      width:100%;
      max-width:680px;
      margin:18px auto 8px;
      padding:22px 18px;
      min-height:90px;

      border-radius:18px;
      text-decoration:none;

      background: linear-gradient(180deg, #22c55e, #16a34a);
      box-shadow: 0 18px 35px rgba(34,197,94,0.25), inset 0 0 0 1px rgba(255,255,255,0.14);

      font-family: Arial, Helvetica, sans-serif;
      font-weight:900;
      letter-spacing:.6px;
      color:#fff;
      text-align:center;
      font-size: clamp(22px, 6vw, 36px);
      line-height: 1.15;
      white-space: nowrap;

      transition: transform .12s ease, filter .12s ease;
      cursor:pointer;
    }
    .call-btn:active{
      transform: translateY(1px);
      filter: brightness(.98);
    }
    @media (max-width:360px){
      .call-btn{ white-space: normal; }
    }

    .timer{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      margin-top:14px;
    }
    .timer-cell{
      font-family: Arial, Helvetica, sans-serif;
      font-weight:900;
      font-size:22px;
      padding:8px 12px;
      border-radius:10px;
    }
  </style>

  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != "dataLayer" ? "&l=" + l : "";
      j.async = true;
      j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-P8DNGDC8");
  </script>
</head>

<body>
  <noscript>
    <iframe
      src="https://www.googletagmanager.com/ns.html?id=GTM-P8DNGDC8"
      height="0"
      width="0"
      style="display:none;visibility:hidden"
    ></iframe>
  </noscript>

  <div id="image-container">
    <img src="baarish.GIF" alt="" />
  </div>

  <div>
    <div style="font-family: Arial, Helvetica, sans-serif;" class="top-sticky-blue-test22" id="top">
      <img id="lofo" src="system.png" alt="">
    </div>

    <div
      style="
        margin-bottom:4px;
        font-family:Arial, Helvetica, sans-serif;
        background-color:#03b55f;
        text-align:center;
        font-size:13px;
        padding:8px 0;
        color:#fff;
        display:flex;
        align-items:center;
        justify-content:center;
      "
    >
      <img class="live" src="./live.png" alt="">
      <em><span id="counter" style="font-weight:800;">22,578</span> Americans Enrolled In Last 24 Hours!</em>
    </div>

    <div class="checking hidden" style="font-weight:700;" id="status">
      <span id="statusMessage"></span>
    </div>

    <div class="main-container-5" id="mainContent">
      <div class="main-descrition-5-5">
        <div class="main-des-title-6-7">
          <b>Final Call For American Drivers To Secure Lower Rate On Their Auto Insurance!</b>
        </div>

        <img
          style="width:83%; margin-left:-15%; border-radius:7px;"
          class="topic-img-middle-z"
          src="https://m.smartdrivequote.com/jm/v1/car.png"
          alt="head"
        />

        <div
          style="margin-top:10px; text-align:center; font-size:16px; font-weight:900; line-height:20px; margin-bottom:0;"
          class="main-des-5"
        >
          Checking your eligibility is very simple and takes just 60 seconds, simply answer the questions below to see if you qualify now.
          <br /><br />
        </div>

        <div style="margin-bottom:20px; margin-top:-10px;">
          <i style="font-size:24px;" class="fa-solid fa-angle-down"></i>
        </div>

        <div style="background-color:#f1f1f1; height:60px;">
          <div
            style="
              background-color:#045ab6;
              font-size:14px;
              padding:15px 5px;
              border-radius:15px;
              color:#fff;
              box-shadow:0px 5px 0px #03b55f;
              margin-bottom:5px;
            "
          >
            Answer The Question Below To Proceed:
          </div>
        </div>
      </div>

      <div class="survey" style="background-color:#f1f1f1; padding:3px 20px 1px 20px; border-radius:0px 0px 10px 10px;">
        <div class="quiz-5" id="btn" style="text-align:center;">
          <span id="quizQuestion">What's Your Age Range?</span>
        </div>

        <div class="answer" id="answerOptions">
          <div style="border-radius:25px; font-size:22px;" class="answer-btn-5" onclick="handleAgePick('18-34')">18-34</div>
          <div style="border-radius:25px; font-size:22px;" class="answer-btn-5" onclick="handleAgePick('35-54')">35-54</div>
          <div style="border-radius:25px; font-size:22px;" class="answer-btn-5" onclick="handleAgePick('55-64')">55-64</div>
          <div style="border-radius:25px; font-size:22px;" class="answer-btn-5" onclick="handleAgePick('65-84')">65-84</div>
        </div>

        <div style="display:flex; justify-content:center; align-items:center; margin-top:10px;">
          <div class="pulse"></div>
          <em style="margin-left:10px;">
            <span id="claim" style="color:#22c55e;">69</span> People Are Claiming Right&nbsp;Now!
          </em>
        </div>
      </div>
    </div>

    <div class="checking hidden" id="congratulations">
      <div class="congrats">Congratulations, You Qualify ðŸŽ‰</div>

      <div class="top-description-5">
        Make A <b>Quick Call</b> To Secure Your Lower Rate On Auto Insurance Now!
      </div>

      <div class="spots-count">Spots remaining: 4</div>

      <!-- âœ… ONE NORMAL BUTTON (anchor) -->
      <a class="call-btn" href="tel:+18776731122" onclick="handleCallClick(event)">
        CALL (877) 673-1122
      </a>

      <div class="sub-description">
        Due to high call volume, your official agent is waiting for only <b>3 minutes</b>, then your spot will not be reserved.
      </div>

      <div class="timer">
        <div class="timer-cell" id="minutes">3</div>
        <div class="timer-cell">:</div>
        <div class="timer-cell" id="seconds">00</div>
      </div>
    </div>

    <div class="footer2" style="margin-top:25vh;">
      Beware of other fraudulent & similar-looking websites that might look exactly like ours, we have no affiliation with them.
      This is the only official website to claim your Auto Insurance Subsidy with the domain name savemaxauto.org

      <div class="terms2">
        <a href="/terms.html">Terms & Conditions</a> |
        <a href="/privacy.html">Privacy Policy</a>
      </div>

      <div style="width:100%; height:0.2px; background-color:black; margin-top:15px;"></div>
      <div class="copyright"></div>
    </div>
  </div>

  <script>
    // âœ… counters
    const counter = document.getElementById("counter");
    const claim = document.getElementById("claim");

    setInterval(() => {
      if (!counter) return;
      const prev = parseInt(counter.innerText.replace(/,/g, "")) || 0;
      counter.innerText = (prev + (Math.floor(Math.random() * 3) + 1)).toLocaleString();
    }, 3000);

    setInterval(() => {
      if (!claim) return;
      const prev = parseInt(claim.innerText) || 0;
      claim.innerText = prev + 1;
    }, 3000);

    // âœ… elements
    let step = "process";
    const statusDiv = document.getElementById("status");
    const statusMessage = document.getElementById("statusMessage");
    const congratulationsDiv = document.getElementById("congratulations");
    const quizText = document.getElementById("quizQuestion");
    const answerOptions = document.getElementById("answerOptions");
    const minutesEl = document.getElementById("minutes");
    const secondsEl = document.getElementById("seconds");
    const imageContainer = document.getElementById("image-container");

    // âœ… questions
    const Q_AGE = "What's Your Age Range?";
    const Q_INSURED = "Are you currently insured?";

    // âœ… ringba tags
    window._rgba_tags = window._rgba_tags || [];

    function isRingbaScriptLoaded() {
      try {
        return [...document.scripts].some((s) => (s.src || "").includes("ringba.com"));
      } catch (e) {
        return false;
      }
    }

    function printRingbaState() {
      console.log("[RINGBA] script loaded?", isRingbaScriptLoaded());
      console.log("[RINGBA] tags:", window._rgba_tags || []);
    }

    // show once after load
    setTimeout(printRingbaState, 1200);

    function pushAgeToTags(ageValue) {
      window._rgba_tags.push({ age_range: String(ageValue) });
      console.log("[RINGBA] pushed age_range:", ageValue);
      printRingbaState();
    }

    function pushInsuredToTags(valueLower) {
      // âœ… store lowercase only: yes/no
      const v = String(valueLower).toLowerCase();
      window._rgba_tags.push({ insured: v });
      console.log("[RINGBA] pushed insured:", v);
      printRingbaState();
    }

    // âœ… flow
    function handleAgePick(ageValue) {
      pushAgeToTags(ageValue);
      quizText.textContent = Q_INSURED;

      answerOptions.innerHTML = `
        <div style="border-radius: 20px; font-size: 22px;" class="answer-btn-5" onclick="handleInsuredPick('yes')">Yes</div>
        <div style="border-radius: 20px; font-size: 22px;" class="answer-btn-5" onclick="handleInsuredPick('no')">No</div>
      `;

      smoothScrollToTop(900, 432);
    }

    function handleInsuredPick(valueLower) {
      pushInsuredToTags(valueLower);
      stepProcess(valueLower);
    }

    function stepProcess(answer) {
      smoothScrollToTop(1000);
      const mainContent = document.getElementById("mainContent");
      if (mainContent) mainContent.classList.add("hidden");

      statusDiv.classList.remove("hidden");
      statusMessage.textContent = "Reviewing Your Answers...";

      setTimeout(() => {
        statusMessage.textContent = "Verifying Availability...";
        setTimeout(() => {
          statusMessage.textContent = "Confirming Eligibility...";
          setTimeout(() => setStep("completed"), 1500);
        }, 1500);
      }, 1500);
    }

    function setStep(newStep) {
      step = newStep;
      if (step === "completed") showCongratulations();
    }

    function showCongratulations() {
      statusDiv.classList.add("hidden");
      congratulationsDiv.classList.remove("hidden");

      if (imageContainer) {
        imageContainer.style.display = "block";
        setTimeout(() => (imageContainer.style.display = "none"), 2000);
      }

      startTimer();

      setTimeout(() => window.scrollTo({ top: 0, behavior: "smooth" }), 100);
      printRingbaState();
    }

    function startTimer() {
      let totalSeconds = 180;
      const timer = setInterval(() => {
        const minutes = Math.floor(totalSeconds / 60);
        const seconds = totalSeconds % 60;

        if (minutesEl) minutesEl.textContent = minutes;
        if (secondsEl) secondsEl.textContent = seconds < 10 ? "0" + seconds : seconds;

        totalSeconds--;
        if (totalSeconds < 0) clearInterval(timer);
      }, 1000);
    }

    function smoothScrollToTop(duration, targetPosition = 0) {
      const startPosition = window.pageYOffset;
      const distance = targetPosition - startPosition;
      let startTime = null;

      function animation(currentTime) {
        if (startTime === null) startTime = currentTime;
        const timeElapsed = currentTime - startTime;
        const run = ease(timeElapsed, startPosition, distance, duration);
        window.scrollTo(0, run);
        if (timeElapsed < duration) requestAnimationFrame(animation);
      }

      function ease(t, b, c, d) {
        t /= d / 2;
        if (t < 1) return (c / 2) * t * t + b;
        t--;
        return (-c / 2) * (t * (t - 2) - 1) + b;
      }

      requestAnimationFrame(animation);
    }

    // âœ… FIXED: no more "null href" error
    // We do NOT use e.currentTarget.href anymore.
    function handleCallClick(e) {
      console.log("[CALL] clicked call button");
      console.log("[CALL] ringba tags at click:", window._rgba_tags || []);
      console.log("[CALL] ringba script loaded?", isRingbaScriptLoaded());

      // tiny delay helps tags settle before dialer
      e.preventDefault();
      const href = e.target && e.target.closest ? e.target.closest("a").getAttribute("href") : "tel:+18776731122";
      setTimeout(() => {
        window.location.href = href;
      }, 180);
    }
  </script>
</body>
</html>
